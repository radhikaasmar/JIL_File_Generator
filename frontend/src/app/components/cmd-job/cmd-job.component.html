<div class="form-box">
  <div class="collapsible-header">
    <h2>CMD Job Definition</h2>
    <div style="display: flex; align-items: center; gap: 0.5rem;">
      <button type="button" class="close-btn" (click)="$event.stopPropagation(); onDelete()" title="Delete CMD Job">&times;</button>
      <button type="button" class="collapse-btn" (click)="toggleCollapse()">{{ collapsed ? 'Expand' : 'Collapse' }}</button>
    </div>
  </div>
  <div *ngIf="!collapsed">
    <div class="form-fields" [formGroup]="cmdJobForm">
      <div class="form-field">
        <label>Insert Job:</label>
        <input [value]="insertJob" readonly />
      </div>
      <div class="form-field">
        <label>Job Type:</label>
        <input value="CMD" readonly />
      </div>
      <div class="form-field">
        <label>Description:</label>
        <input formControlName="description" type="text" />
      </div>
      <div class="form-field">
        <label>Machine:</label>
        <input formControlName="machine" type="text" />
      </div>
      <div class="form-field">
        <label>Condition:</label>
        <input [value]="condition" readonly />
      </div>
      <div class="form-field">
        <label>Owner:</label>
        <input formControlName="owner" type="text" />
      </div>
      <div class="form-field">
        <label>Box Name:</label>
        <input [value]="boxName" readonly />
      </div>
      <div class="form-field">
        <label>Alarm if Fail:</label>
        <div class="radio-group">
          <label class="radio-inline"><input type="radio" formControlName="alarmFail" value="y"> Yes</label>
          <label class="radio-inline"><input type="radio" formControlName="alarmFail" value="n"> No</label>
        </div>
      </div>
      <div class="form-field">
        <label>Alarm if Terminated:</label>
        <div class="radio-group">
          <label class="radio-inline"><input type="radio" formControlName="alarmTerm" value="y"> Yes</label>
          <label class="radio-inline"><input type="radio" formControlName="alarmTerm" value="n"> No</label>
        </div>
      </div>
      <div class="form-field">
        <label>Timezone:</label>
        <select formControlName="timezone">
          <option value="us central">US CENTRAL</option>
          <option value="us eastern">US EASTERN</option>
        </select>
      </div>
      <div class="form-field">
        <label>Profile:</label>
        <input formControlName="profile" type="text" />
      </div>
      <div class="form-field">
        <label>Send Notification:</label>
        <div class="radio-group">
          <label class="radio-inline"><input type="radio" formControlName="sendNotif" value="y"> Yes</label>
          <label class="radio-inline"><input type="radio" formControlName="sendNotif" value="n"> No</label>
        </div>
      </div>
      <div class="form-field">
        <label>Std Out File:</label>
        <input formControlName="stdOutFile" type="text" />
      </div>
      <div class="form-field">
        <label>Std Err File:</label>
        <input formControlName="stdErrFile" type="text" />
      </div>
      <div class="form-field">
        <label>Command:</label>
        <input formControlName="command" type="text" />
      </div>
      <div class="form-field">
        <label>Status:</label>
        <input formControlName="status" type="text" />
      </div>
    </div>
    <div class="form-footer">
      <button type="button" (click)="clearForm()" class="clear-btn">Clear Form</button>
      <button (click)="onDelete()" class="close-btn">X</button>
    </div>
  </div>
</div>
